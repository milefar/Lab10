from main import prices

def test_prices_test_min():
    lines = [

        '1, 0, 3, 22, 1, 0, 7.25, 0,S',
        '2, 1, 1, 38, 1, 0, 71.2833, C85,C',
        '3, 1, 3, 26, 0, 0, 7.925, 0,S',
        '4, 1, 1, 35, 1, 0, 53.1, C123,S',
        '5, 0, 3, 35, 0, 0, 8.05, 0,S',
        '6, 0, 3,  0, 0, 0, 8.4583, 0,Q',
        '7, 0, 1, 54, 0, 0, 51.8625, E46,S'
    ]
    option = 0 #Поиск минимальных стоимостей
    assert prices(lines, option) == [71.2833, 7.25, 8.4583]

def test_prices_test_max():
    lines = [
        '30,0,3,,0,0,349216,      7.8958,,S',
        '31,0,1,40,0,0,PC 17601,  27.7208,,C',
        '32,1,1,,1,0,PC 17569,    146.5208,B78,C',
        '33,1,3,,0,0,335677,      7.75,,Q',
        '34,0,2,66,0,0,C.A.24579, 10.5,,S',
        '35,0,1,28,1,0,PC 17604,  82.1708,,C',
        '36,0,1,42,1,0,113789,    52,,S'
    ]
    option = 1 #Поиск максимальных стоимостей
    assert prices(lines, option) == [146.5208, 52, 7.75]

def test_prices_test_avg():
    lines = [
        '83, 1, 3,, 0, 0, 330932,   7.7875,, Q',
        '70,0,3,26,2,0,315151,      8.6625,,S',
        '71,0,2,32,0,0,C.A.33111,   10.5,,S',
        '48, 1, 3,, 0, 0, 14311,    7.75,,Q',
        '72,0,3,16,5,2,CA 2144,     46.9,,S',
        '65, 0, 1,, 0, 0, PC 17605, 27.7208,,C',
        '73,0,2,21,0,0,S.O.C.14879, 73.5,,S',
        '74,0,3,26,1,0,2680,        14.4542,,C',
        '75,1,3,32,0,0,1601,        56.4958,,S',
        '76,0,3,25,0,0,348123,      7.65,F G73,S'
    ]
    option = 2 #Поиск средних стоимостей
    assert prices(lines, option) == [21.09, 33.95, 7.75]